# WoniuNote 开发流程和分支策略

## 分支策略

WoniuNote 项目采用以下分支策略：

### 主要分支

- **master/main**: 生产环境分支，包含稳定的、已发布的代码
- **development**: 开发主分支，包含下一个版本的功能

### 辅助分支

- **feature/xxx**: 功能分支，用于开发新功能
- **bugfix/xxx**: 缺陷修复分支，用于修复非紧急bug
- **hotfix/xxx**: 热修复分支，用于修复生产环境的紧急问题
- **release/x.y.z**: 发布分支，用于版本发布准备

## 开发流程

1. **功能开发**
   - 从 `development` 分支创建 `feature/xxx` 分支
   - 在此分支上进行开发
   - 开发完成后提交 Pull Request 到 `development` 分支
   - 代码审查通过后合并

2. **Bug 修复**
   - 对于开发环境的 bug，从 `development` 分支创建 `bugfix/xxx` 分支
   - 对于生产环境的紧急 bug，从 `master` 分支创建 `hotfix/xxx` 分支
   - 修复完成后提交 Pull Request 到相应分支
   - 热修复要同时合并到 `master` 和 `development` 分支

3. **版本发布**
   - 从 `development` 分支创建 `release/x.y.z` 分支
   - 在此分支上只进行 bug 修复，不添加新功能
   - 测试通过后合并到 `master` 分支，并在 GitHub 上创建 tag
   - 同时将 `release` 分支合并回 `development` 分支

## 提交规范

每个提交信息应包含以下格式：

```
<类型>(<范围>): <描述>

<详细描述>

<尾部>
```

### 类型

- **feat**: 新功能
- **fix**: 修复Bug
- **docs**: 文档更改
- **style**: 不影响代码含义的更改（空格、格式等）
- **refactor**: 既不修复错误也不添加功能的代码更改
- **perf**: 提高性能的代码更改
- **test**: 添加或修正测试
- **chore**: 对构建过程或辅助工具的更改

### 范围

指定提交影响的模块，如 `auth`、`article`、`comment` 等。

### 示例

```
feat(auth): 实现基于JWT的认证系统

- 添加JWT令牌生成和验证
- 实现登录和刷新令牌接口
- 添加认证中间件

Closes #123
```

## 代码审查清单

在进行代码审查时，请检查以下方面：

1. **功能性**
   - 代码是否实现了需求的所有功能？
   - 是否考虑了边界情况和异常情况？

2. **代码质量**
   - 代码是否遵循项目编码规范？
   - 变量和函数命名是否清晰明了？
   - 是否有不必要的代码重复？

3. **安全性**
   - 是否验证了所有用户输入？
   - 是否防范了SQL注入、XSS等安全问题？
   - 敏感数据是否妥善处理？

4. **性能**
   - 数据库查询是否高效？
   - 是否避免了N+1查询问题？
   - 是否有不必要的资源消耗？

5. **测试**
   - 是否为新功能编写了测试？
   - 测试是否覆盖了关键路径和边界情况？
